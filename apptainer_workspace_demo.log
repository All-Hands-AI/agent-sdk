warning: `VIRTUAL_ENV=/openhands/poetry/openhands-ai-5O4_aCHf-py3.12` does not match the project environment path `.venv` and will be ignored; use `--active` to target the active environment instead
{"asctime": "2025-10-24 21:05:18,348", "levelname": "INFO", "name": "openhands.agent_server.docker.build", "filename": "build.py", "lineno": 55, "message": "$ git rev-parse --verify HEAD (cwd=None)"}
{"asctime": "2025-10-24 21:05:18,349", "levelname": "INFO", "name": "openhands.agent_server.docker.build", "filename": "build.py", "lineno": 74, "message": "[stdout] e46211786df7a1f25b15fe01ccd0d2611366d354"}
{"asctime": "2025-10-24 21:05:18,350", "levelname": "INFO", "name": "openhands.agent_server.docker.build", "filename": "rolling.py", "lineno": 111, "message": "$ git rev-parse --verify HEAD\n[stdout] e46211786df7a1f25b15fe01ccd0d2611366d354"}
{"asctime": "2025-10-24 21:05:18,350", "levelname": "INFO", "name": "openhands.agent_server.docker.build", "filename": "build.py", "lineno": 55, "message": "$ git symbolic-ref -q --short HEAD (cwd=None)"}
{"asctime": "2025-10-24 21:05:18,351", "levelname": "INFO", "name": "openhands.agent_server.docker.build", "filename": "build.py", "lineno": 74, "message": "[stdout] openhands/apptainer-workspace-891"}
{"asctime": "2025-10-24 21:05:18,352", "levelname": "INFO", "name": "openhands.agent_server.docker.build", "filename": "rolling.py", "lineno": 111, "message": "$ git symbolic-ref -q --short HEAD\n[stdout] openhands/apptainer-workspace-891"}
{"asctime": "2025-10-24 21:05:18,412", "levelname": "INFO", "name": "openhands.sdk.utils.command", "filename": "command.py", "lineno": 27, "message": "$ apptainer version"}
1.3.5
{"asctime": "2025-10-24 21:05:18,434", "levelname": "INFO", "name": "openhands.workspace.apptainer.workspace", "filename": "workspace.py", "lineno": 234, "message": "Using cached SIF file: /root/.apptainer_cache/ghcr.io_openhands_agent-server_main-python.sif"}
[APPTAINER] INFO:    squashfuse not found, will not be able to mount SIF or other squashfs files
[APPTAINER] INFO:    fuse2fs not found, will not be able to mount EXT3 filesystems
[APPTAINER] INFO:    gocryptfs not found, will not be able to use gocryptfs
[APPTAINER] INFO:    Converting SIF file to temporary sandbox...
[APPTAINER] {"asctime": "2025-10-24 21:05:36,373", "levelname": "WARNING", "name": "uvicorn.error", "filename": "config.py", "lineno": 285, "message": "Current configuration will not reload as not all conditions are met, please refer to documentation."}
[APPTAINER] {"asctime": "2025-10-24 21:05:38,519", "levelname": "INFO", "name": "uvicorn.error", "filename": "server.py", "lineno": 84, "message": "Started server process [55274]", "color_message": "Started server process [\u001b[36m%d\u001b[0m]"}
[APPTAINER] {"asctime": "2025-10-24 21:05:38,519", "levelname": "INFO", "name": "uvicorn.error", "filename": "on.py", "lineno": 48, "message": "Waiting for application startup."}
[APPTAINER] {"asctime": "2025-10-24 21:05:38,520", "levelname": "WARNING", "name": "openhands.agent_server.vscode_service", "filename": "vscode_service.py", "lineno": 55, "message": "Port 8001 is not available, VSCode will be disabled"}
[APPTAINER] {"asctime": "2025-10-24 21:05:38,520", "levelname": "WARNING", "name": "openhands.agent_server.api", "filename": "api.py", "lineno": 55, "message": "VSCode service failed to start, continuing without VSCode"}
[APPTAINER] {"asctime": "2025-10-24 21:05:38,552", "levelname": "INFO", "name": "openhands.agent_server.desktop_service", "filename": "desktop_service.py", "lineno": 78, "message": "Starting TigerVNC on :1 (1280x800)..."}
[APPTAINER] Please be aware that you are exposing your VNC server to all users on the
[APPTAINER] local machine. These users can access your server without authentication!
[APPTAINER] 
[APPTAINER] =================== tail /root/.config/tigervnc/runtime-unzrxnixdmcqakae-7f79d58b64-fqqnm:1.log ===================
[APPTAINER] /usr/bin/Xtigervnc: /tmp/_MEIC8jyT8/libstdc++.so.6: version `CXXABI_1.3.15' not found (required by /usr/bin/Xtigervnc)
[APPTAINER] ===================================================================================================================
[APPTAINER] 
[APPTAINER] vncserver: /usr/bin/Xtigervnc exited with status 1, please look into '/root/.config/tigervnc/runtime-unzrxnixdmcqakae-7f79d58b64-fqqnm:1.log' to determine the reason! -2
[APPTAINER] {"asctime": "2025-10-24 21:05:38,622", "levelname": "ERROR", "name": "openhands.agent_server.desktop_service", "filename": "desktop_service.py", "lineno": 96, "message": "vncserver failed with rc=255"}
[APPTAINER] {"asctime": "2025-10-24 21:05:38,622", "levelname": "WARNING", "name": "openhands.agent_server.api", "filename": "api.py", "lineno": 65, "message": "Desktop service failed to start, continuing without desktop"}
[APPTAINER] {"asctime": "2025-10-24 21:05:38,622", "levelname": "INFO", "name": "uvicorn.error", "filename": "on.py", "lineno": 62, "message": "Application startup complete."}
[APPTAINER] {"asctime": "2025-10-24 21:05:38,623", "levelname": "INFO", "name": "uvicorn.error", "filename": "server.py", "lineno": 216, "message": "Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)", "color_message": "Uvicorn running on \u001b[1m%s://%s:%d\u001b[0m (Press CTRL+C to quit)"}
[APPTAINER] ðŸ™Œ Starting OpenHands Agent Server on 0.0.0.0:8010
[APPTAINER] ðŸ“– API docs will be available at http://0.0.0.0:8010/docs
[APPTAINER] ðŸ”„ Auto-reload: disabled
[APPTAINER] ðŸ”’ DEBUG mode: DISABLED
[APPTAINER] 
[APPTAINER] {"asctime": "2025-10-24 21:05:39,459", "levelname": "INFO", "name": "uvicorn.access", "client_addr": null, "request_line": null, "status_code": null}
{"asctime": "2025-10-24 21:05:39,460", "levelname": "INFO", "name": "openhands.workspace.apptainer.workspace", "filename": "workspace.py", "lineno": 208, "message": "Apptainer workspace is ready at http://localhost:8010"}
[APPTAINER] {"asctime": "2025-10-24 21:05:39,914", "levelname": "INFO", "name": "uvicorn.access", "client_addr": null, "request_line": null, "status_code": null}
[APPTAINER] {"asctime": "2025-10-24 21:05:39,916", "levelname": "INFO", "name": "uvicorn.access", "client_addr": null, "request_line": null, "status_code": null}
[APPTAINER] {"asctime": "2025-10-24 21:05:40,019", "levelname": "INFO", "name": "uvicorn.access", "client_addr": null, "request_line": null, "status_code": null}
{"asctime": "2025-10-24 21:05:40,019", "levelname": "INFO", "name": "__main__", "filename": "05_convo_with_apptainer_sandboxed_server.py", "lineno": 83, "message": "Command 'echo 'Hello from Apptainer sandboxed environment!' && pwd' completed with exit code 0"}
{"asctime": "2025-10-24 21:05:40,019", "levelname": "INFO", "name": "__main__", "filename": "05_convo_with_apptainer_sandboxed_server.py", "lineno": 86, "message": "Output: Hello from Apptainer sandboxed environment!\n/workspace\n"}
[APPTAINER] {"asctime": "2025-10-24 21:05:40,058", "levelname": "INFO", "name": "openhands.sdk.conversation.state", "filename": "state.py", "lineno": 213, "message": "Created new conversation 39069c49-7192-41fb-abf0-03094854441f\nState: {'id': UUID('39069c49-7192-41fb-abf0-03094854441f'), 'workspace': {'kind': 'LocalWorkspace', 'working_dir': '/workspace'}, 'persistence_dir': 'workspace/conversations/39069c49719241fbabf003094854441f', 'max_iterations': 500, 'stuck_detection': True, 'agent_status': <AgentExecutionStatus.IDLE: 'idle'>, 'confirmation_policy': {'kind': 'NeverConfirm'}, 'activated_knowledge_skills': [], 'stats': {'usage_to_metrics': {}}}\nAgent: {'kind': 'Agent', 'llm': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'api_key': SecretStr('**********'), 'openrouter_site_url': 'https://docs.all-hands.dev/', 'openrouter_app_name': 'OpenHands', 'num_retries': 5, 'retry_multiplier': 8.0, 'retry_min_wait': 8, 'retry_max_wait': 64, 'max_message_chars': 30000, 'temperature': 0.0, 'top_p': 1.0, 'drop_params': True, 'modify_params': True, 'disable_stop_word': False, 'caching_prompt': True, 'log_completions': False, 'log_completions_folder': 'logs/completions', 'reasoning_effort': 'high', 'enable_encrypted_reasoning': False, 'extended_thinking_budget': 200000, 'usage_id': 'agent', 'metadata': {}, 'OVERRIDE_ON_SERIALIZE': ('api_key', 'aws_access_key_id', 'aws_secret_access_key')}, 'tools': [{'name': 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}], 'mcp_config': {'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}, 'repomix': {'command': 'npx', 'args': ['-y', 'repomix@1.4.2', '--mcp']}}}, 'filter_tools_regex': '^(?!repomix)(.*)|^repomix.*pack_codebase.*$', 'system_prompt_filename': 'system_prompt.j2', 'system_prompt_kwargs': {'cli_mode': True}, 'condenser': {'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'api_key': SecretStr('**********'), 'openrouter_site_url': 'https://docs.all-hands.dev/', 'openrouter_app_name': 'OpenHands', 'num_retries': 5, 'retry_multiplier': 8.0, 'retry_min_wait': 8, 'retry_max_wait': 64, 'max_message_chars': 30000, 'temperature': 0.0, 'top_p': 1.0, 'drop_params': True, 'modify_params': True, 'disable_stop_word': False, 'caching_prompt': True, 'log_completions': False, 'log_completions_folder': 'logs/completions', 'reasoning_effort': 'high', 'enable_encrypted_reasoning': False, 'extended_thinking_budget': 200000, 'usage_id': 'condenser', 'metadata': {}, 'OVERRIDE_ON_SERIALIZE': ('api_key', 'aws_access_key_id', 'aws_secret_access_key')}, 'max_size': 80, 'keep_first': 4}}"}
[APPTAINER] {"asctime": "2025-10-24 21:05:40,063", "levelname": "INFO", "name": "openhands.tools.execute_bash.terminal.factory", "filename": "factory.py", "lineno": 103, "message": "Auto-detected: Using TmuxTerminal (tmux available)"}
[APPTAINER] {"asctime": "2025-10-24 21:05:40,353", "levelname": "INFO", "name": "openhands.tools.execute_bash.impl", "filename": "impl.py", "lineno": 60, "message": "BashExecutor initialized with working_dir: /workspace, username: None, terminal_type: TerminalSession"}
[APPTAINER] {"asctime": "2025-10-24 21:05:40,354", "levelname": "INFO", "name": "openhands.tools.file_editor.editor", "filename": "editor.py", "lineno": 89, "message": "FileEditor initialized with cwd: /workspace"}
[APPTAINER] {"asctime": "2025-10-24 21:05:40,354", "levelname": "INFO", "name": "openhands.tools.task_tracker.definition", "filename": "definition.py", "lineno": 158, "message": "TaskTrackerExecutor initialized with save_dir: workspace/conversations/39069c49719241fbabf003094854441f"}
[APPTAINER] {"asctime": "2025-10-24 21:05:40,374", "levelname": "INFO", "name": "mcp.server.lowlevel.server", "filename": "server.py", "lineno": 664, "message": "Processing request of type ListToolsRequest"}
[APPTAINER] Downloading lxml (5.0MiB)
[APPTAINER] Downloading pydantic-core (2.0MiB)
[APPTAINER]  Downloading pydantic-core
[APPTAINER]  Downloading lxml
[APPTAINER] Installed 40 packages in 19ms
[APPTAINER] {"asctime": "2025-10-24 21:05:49,210", "levelname": "INFO", "name": "openhands.sdk.mcp.utils", "filename": "utils.py", "lineno": 62, "message": "Created 8 MCP tools: ['fetch_fetch', 'repomix_pack_codebase', 'repomix_pack_remote_repository', 'repomix_attach_packed_output', 'repomix_read_repomix_output', 'repomix_grep_repomix_output', 'repomix_file_system_read_file', 'repomix_file_system_read_directory']"}
[APPTAINER] {"asctime": "2025-10-24 21:05:49,210", "levelname": "INFO", "name": "openhands.sdk.agent.base", "filename": "base.py", "lineno": 203, "message": "Loaded 11 tools from spec: ['execute_bash', 'str_replace_editor', 'task_tracker', 'fetch_fetch', 'repomix_pack_codebase', 'repomix_pack_remote_repository', 'repomix_attach_packed_output', 'repomix_read_repomix_output', 'repomix_grep_repomix_output', 'repomix_file_system_read_file', 'repomix_file_system_read_directory']"}
[APPTAINER] {"asctime": "2025-10-24 21:05:49,210", "levelname": "INFO", "name": "openhands.sdk.agent.base", "filename": "base.py", "lineno": 209, "message": "Filtered to 5 tools after applying regex filter: ['execute_bash', 'str_replace_editor', 'task_tracker', 'fetch_fetch', 'repomix_pack_codebase']"}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,104", "levelname": "INFO", "name": "openhands.sdk.llm.llm_registry", "filename": "llm_registry.py", "lineno": 113, "message": "[LLM registry 488f3b82-cbbe-4f82-8495-0635ef1ca51c]: Added LLM for usage agent"}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,110", "levelname": "INFO", "name": "openhands.sdk.llm.llm_registry", "filename": "llm_registry.py", "lineno": 113, "message": "[LLM registry 488f3b82-cbbe-4f82-8495-0635ef1ca51c]: Added LLM for usage condenser"}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,110", "levelname": "INFO", "name": "openhands.sdk.conversation.impl.local_conversation", "filename": "local_conversation.py", "lineno": 285, "message": "Confirmation policy set to: kind='NeverConfirm'"}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,123", "levelname": "INFO", "name": "uvicorn.access", "client_addr": null, "request_line": null, "status_code": null}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,126", "levelname": "INFO", "name": "uvicorn.access", "client_addr": null, "request_line": null, "status_code": null}
{"asctime": "2025-10-24 21:05:50,127", "levelname": "INFO", "name": "__main__", "filename": "05_convo_with_apptainer_sandboxed_server.py", "lineno": 98, "message": "\n\ud83d\udccb Conversation ID: 39069c49-7192-41fb-abf0-03094854441f"}
{"asctime": "2025-10-24 21:05:50,127", "levelname": "INFO", "name": "__main__", "filename": "05_convo_with_apptainer_sandboxed_server.py", "lineno": 100, "message": "\ud83d\udcdd Sending first message..."}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,131", "levelname": "INFO", "name": "uvicorn.access", "client_addr": null, "request_line": null, "status_code": null}
{"asctime": "2025-10-24 21:05:50,135", "levelname": "INFO", "name": "__main__", "filename": "05_convo_with_apptainer_sandboxed_server.py", "lineno": 104, "message": "\ud83d\ude80 Running conversation..."}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,177", "levelname": "INFO", "name": "uvicorn.error", "filename": "wsproto_impl.py", "lineno": 259, "message": "127.0.0.1:37240 - \"WebSocket /sockets/events/39069c49-7192-41fb-abf0-03094854441f?session_api_key=9ed4ee07-09cc-4d6d-94bf-b3f24bde71a8\" [accepted]"}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,177", "levelname": "INFO", "name": "openhands.agent_server.sockets", "filename": "sockets.py", "lineno": 53, "message": "Event Websocket Connected: 39069c49-7192-41fb-abf0-03094854441f"}
{"asctime": "2025-10-24 21:05:50,555", "levelname": "INFO", "name": "__main__", "filename": "05_convo_with_apptainer_sandboxed_server.py", "lineno": 75, "message": "\ud83d\udd14 Callback received event: ConversationStateUpdateEvent\nConversationStateUpdate(key=full_state, value={'id': '39069c49-7192-41fb-abf0-03094854441f', 'agent': {'kind': 'Agent', 'llm': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'api_key': '**********', 'openrouter_site_url': 'https://docs.all-hands.dev/', 'openrouter_app_name': 'OpenHands', 'num_retries': 5, 'retry_multiplier': 8.0, 'retry_min_wait': 8, 'retry_max_wait': 64, 'max_message_chars': 30000, 'temperature': 0.0, 'top_p': 1.0, 'drop_params': True, 'modify_params': True, 'disable_stop_word': False, 'caching_prompt': True, 'log_completions': False, 'log_completions_folder': 'logs/completions', 'reasoning_effort': 'high', 'enable_encrypted_reasoning': False, 'extended_thinking_budget': 200000, 'usage_id': 'agent', 'metadata': {}, 'OVERRIDE_ON_SERIALIZE': ['api_key', 'aws_access_key_id', 'aws_secret_access_key']}, 'tools': [{'name': 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}], 'mcp_config': {'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}, 'repomix': {'command': 'npx', 'args': ['-y', 'repomix@1.4.2', '--mcp']}}}, 'filter_tools_regex': '^(?!repomix)(.*)|^repomix.*pack_codebase.*$', 'system_prompt_filename': 'system_prompt.j2', 'system_prompt_kwargs': {'cli_mode': True}, 'condenser': {'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'api_key': '**********', 'openrouter_site_url': 'https://docs.all-hands.dev/', 'openrouter_app_name': 'OpenHands', 'num_retries': 5, 'retry_multiplier': 8.0, 'retry_min_wait': 8, 'retry_max_wait': 64, 'max_message_chars': 30000, 'temperature': 0.0, 'top_p': 1.0, 'drop_params': True, 'modify_params': True, 'disable_stop_word': False, 'caching_prompt': True, 'log_completions': False, 'log_completions_folder': 'logs/completions', 'reasoning_effort': 'high', 'enable_encrypted_reasoning': False, 'extended_thinking_budget': 200000, 'usage_id': 'condenser', 'metadata': {}, 'OVERRIDE_ON_SERIALIZE': ['api_key', 'aws_access_key_id', 'aws_secret_access_key']}, 'max_size': 80, 'keep_first': 4}}, 'workspace': {'kind': 'LocalWorkspace', 'working_dir': '/workspace'}, 'persistence_dir': 'workspace/conversations/39069c49719241fbabf003094854441f', 'max_iterations': 500, 'stuck_detection': True, 'agent_status': 'running', 'confirmation_policy': {'kind': 'NeverConfirm'}, 'activated_knowledge_skills': [], 'stats': {'usage_to_metrics': {'agent': {'model_name': 'litellm_proxy/anthropic/<secret_hidden>', 'accumulated_cost': 0.0, 'accumulated_token_usage': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'prompt_tokens': 0, 'completion_tokens': 0, 'cache_read_tokens': 0, 'cache_write_tokens': 0, 'reasoning_tokens': 0, 'context_window': 0, 'per_turn_token': 0, 'response_id': ''}, 'costs': [], 'response_latencies': [], 'token_usages': []}, 'condenser': {'model_name': 'litellm_proxy/anthropic/<secret_hidden>', 'accumulated_cost': 0.0, 'accumulated_token_usage': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'prompt_tokens': 0, 'completion_tokens': 0, 'cache_read_tokens': 0, 'cache_write_tokens': 0, 'reasoning_tokens': 0, 'context_window': 0, 'per_turn_token': 0, 'response_id': ''}, 'costs': [], 'response_latencies': [], 'token_usages': []}}}})"}
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ UNKNOWN Event: ConversationStateUpdateEvent â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      â”‚
â”‚ Unknown event type: ConversationStateUpdateEvent                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     â”‚
â”‚ {'kind': 'ConversationStateUpdateEvent', 'id': '1b3da5ea-a70e-41e3-bbb0-90cfa0b239a9', 'timestamp': '2025-10-24T21:05:50.555159', 'source': 'environment', 'key': 'full_state', 'value': {'id': '39069c49-7192-41fb-abf0-03094854441f', 'agent': {'kind': 'Agent', 'llm': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'api_key': '**********', 'openrouter_site_url': 'https://docs.all-hands.dev/', 'openrouter_app_name': 'OpenHands', 'num_retries': 5, 'retry_multiplier': 8.0, 'retry_min_wait': 8, 'retry_max_wait': 64, 'max_message_chars': 30000, 'temperature': 0.0, 'top_p': 1.0, 'drop_params': True, 'modify_params': True, 'disable_stop_word': False, 'caching_prompt': True, 'log_completions': False, 'log_completions_folder': 'logs/completions', 'reasoning_effort': 'high', 'enable_encrypted_reasoning': False, 'extended_thinking_budget': 200000, 'usage_id': 'agent', 'metadata': {}, 'OVERRIDE_ON_SERIALIZE': ['api_key', 'aws_access_key_id', 'aws_secret_access_key']}, 'tools': [{'name':      â”‚
â”‚ 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}], 'mcp_config': {'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}, 'repomix': {'command': 'npx', 'args': ['-y', 'repomix@1.4.2', '--mcp']}}}, 'filter_tools_regex': '^(?!repomix)(.*)|^repomix.*pack_codebase.*$', 'system_prompt_filename': 'system_prompt.j2', 'system_prompt_kwargs': {'cli_mode': True}, 'condenser': {'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'api_key': '**********', 'openrouter_site_url': 'https://docs.all-hands.dev/', 'openrouter_app_name': 'OpenHands', 'num_retries': 5, 'retry_multiplier': 8.0, 'retry_min_wait': 8, 'retry_max_wait': 64, 'max_message_chars': 30000, 'temperature': 0.0, 'top_p': 1.0, 'drop_params': True, 'modify_params': True, 'disable_stop_word': False, 'caching_prompt': True, 'log_completions': False, 'log_completions_folder': 'logs/completions', 'reasoning_effort':  â”‚
â”‚ 'high', 'enable_encrypted_reasoning': False, 'extended_thinking_budget': 200000, 'usage_id': 'condenser', 'metadata': {}, 'OVERRIDE_ON_SERIALIZE': ['api_key', 'aws_access_key_id', 'aws_secret_access_key']}, 'max_size': 80, 'keep_first': 4}}, 'workspace': {'kind': 'LocalWorkspace', 'working_dir': '/workspace'}, 'persistence_dir': 'workspace/conversations/39069c49719241fbabf003094854441f', 'max_iterations': 500, 'stuck_detection': True, 'agent_status': 'running', 'confirmation_policy': {'kind': 'NeverConfirm'}, 'activated_knowledge_skills': [], 'stats': {'usage_to_metrics': {'agent': {'model_name': 'litellm_proxy/anthropic/<secret_hidden>', 'accumulated_cost': 0.0, 'accumulated_token_usage': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'prompt_tokens': 0, 'completion_tokens': 0, 'cache_read_tokens': 0, 'cache_write_tokens': 0, 'reasoning_tokens': 0, 'context_window': 0, 'per_turn_token': 0, 'response_id': ''}, 'costs': [], 'response_latencies': [], 'token_usages': []},        â”‚
â”‚ 'condenser': {'model_name': 'litellm_proxy/anthropic/<secret_hidden>', 'accumulated_cost': 0.0, 'accumulated_token_usage': {'model': 'litellm_proxy/anthropic/<secret_hidden>', 'prompt_tokens': 0, 'completion_tokens': 0, 'cache_read_tokens': 0, 'cache_write_tokens': 0, 'reasoning_tokens': 0, 'context_window': 0, 'per_turn_token': 0, 'response_id': ''}, 'costs': [], 'response_latencies': [], 'token_usages': []}}}}}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     â”‚
â”‚                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (environment) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

[APPTAINER] {"asctime": "2025-10-24 21:05:50,555", "levelname": "ERROR", "name": "openhands.agent_server.api", "filename": "api.py", "lineno": 225, "message": "Unhandled exception on POST /api/conversations/39069c49-7192-41fb-abf0-03094854441f/run", "exc_info": "Traceback (most recent call last):\n  File \"litellm/llms/openai/openai.py\", line 745, in completion\n  File \"litellm/llms/openai/openai.py\", line 673, in completion\n  File \"litellm/litellm_core_utils/logging_utils.py\", line 237, in sync_wrapper\n  File \"litellm/llms/openai/openai.py\", line 489, in make_sync_openai_chat_completion_request\n  File \"litellm/llms/openai/openai.py\", line 471, in make_sync_openai_chat_completion_request\n  File \"openai/_legacy_response.py\", line 364, in wrapped\n  File \"openai/_utils/_utils.py\", line 286, in wrapper\n  File \"openai/resources/chat/completions/completions.py\", line 1147, in create\n  File \"openai/_base_client.py\", line 1259, in post\n  File \"openai/_base_client.py\", line 1047, in request\nopenai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"litellm/main.py\", line 2131, in completion\n  File \"litellm/main.py\", line 2103, in completion\n  File \"litellm/llms/openai/openai.py\", line 756, in completion\nlitellm.llms.openai.common_utils.OpenAIError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"openhands/sdk/conversation/impl/local_conversation.py\", line 260, in run\n  File \"openhands/sdk/agent/agent.py\", line 225, in step\n  File \"openhands/sdk/agent/agent.py\", line 193, in step\n  File \"openhands/sdk/llm/llm.py\", line 519, in completion\n  File \"tenacity/__init__.py\", line 338, in wrapped_f\n  File \"tenacity/__init__.py\", line 477, in __call__\n  File \"tenacity/__init__.py\", line 378, in iter\n  File \"tenacity/__init__.py\", line 400, in <lambda>\n  File \"concurrent/futures/_base.py\", line 449, in result\n  File \"concurrent/futures/_base.py\", line 401, in __get_result\n  File \"tenacity/__init__.py\", line 480, in __call__\n  File \"openhands/sdk/llm/llm.py\", line 500, in _one_attempt\n  File \"openhands/sdk/llm/llm.py\", line 687, in _transport_call\n  File \"litellm/utils.py\", line 1365, in wrapper\n  File \"litellm/utils.py\", line 1238, in wrapper\n  File \"litellm/main.py\", line 3760, in completion\n  File \"litellm/litellm_core_utils/exception_mapping_utils.py\", line 2273, in exception_type\n  File \"litellm/litellm_core_utils/exception_mapping_utils.py\", line 457, in exception_type\nlitellm.exceptions.AuthenticationError: litellm.AuthenticationError: AuthenticationError: Litellm_proxyException - Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys.\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"starlette/middleware/errors.py\", line 164, in __call__\n  File \"starlette/middleware/cors.py\", line 85, in __call__\n  File \"starlette/middleware/exceptions.py\", line 63, in __call__\n  File \"starlette/_exception_handler.py\", line 53, in wrapped_app\n  File \"starlette/_exception_handler.py\", line 42, in wrapped_app\n  File \"fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n  File \"starlette/routing.py\", line 716, in __call__\n  File \"starlette/routing.py\", line 736, in app\n  File \"starlette/routing.py\", line 290, in handle\n  File \"fastapi/routing.py\", line 123, in app\n  File \"starlette/_exception_handler.py\", line 53, in wrapped_app\n  File \"starlette/_exception_handler.py\", line 42, in wrapped_app\n  File \"fastapi/routing.py\", line 109, in app\n  File \"fastapi/routing.py\", line 389, in app\n  File \"fastapi/routing.py\", line 288, in run_endpoint_function\n  File \"openhands/agent_server/conversation_router.py\", line 187, in run_conversation\n  File \"openhands/agent_server/event_service.py\", line 224, in run\n  File \"concurrent/futures/thread.py\", line 59, in run\n  File \"openhands/sdk/conversation/impl/local_conversation.py\", line 279, in run\nopenhands.sdk.conversation.exceptions.ConversationRunError: Conversation run failed for id=39069c49-7192-41fb-abf0-03094854441f: litellm.AuthenticationError: AuthenticationError: Litellm_proxyException - Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys."}
[APPTAINER] {"asctime": "2025-10-24 21:05:50,563", "levelname": "INFO", "name": "uvicorn.access", "client_addr": null, "request_line": null, "status_code": null}
{"asctime": "2025-10-24 21:05:50,563", "levelname": "ERROR", "name": "openhands.sdk.conversation.impl.remote_conversation", "filename": "remote_conversation.py", "lineno": 59, "message": "HTTP request failed (500 Internal Server Error): {'detail': 'Internal Server Error', 'exception': 'Conversation run failed for id=39069c49-7192-41fb-abf0-03094854441f: litellm.AuthenticationError: AuthenticationError: Litellm_proxyException - Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys.'}", "exc_info": "Traceback (most recent call last):\n  File \"/workspace/project/agent-sdk/openhands-sdk/openhands/sdk/conversation/impl/remote_conversation.py\", line 51, in _send_request\n    response.raise_for_status()\n  File \"/workspace/project/agent-sdk/.venv/lib/python3.12/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Server error '500 Internal Server Error' for url 'http://localhost:8010/api/conversations/39069c49-7192-41fb-abf0-03094854441f/run'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500"}

ðŸ§¹ Cleaning up conversation...
[APPTAINER] {"asctime": "2025-10-24 21:05:50,563", "levelname": "ERROR", "name": "uvicorn.error", "filename": "h11_impl.py", "lineno": 408, "message": "Exception in ASGI application\n", "exc_info": "Traceback (most recent call last):\n  File \"litellm/llms/openai/openai.py\", line 745, in completion\n  File \"litellm/llms/openai/openai.py\", line 673, in completion\n  File \"litellm/litellm_core_utils/logging_utils.py\", line 237, in sync_wrapper\n  File \"litellm/llms/openai/openai.py\", line 489, in make_sync_openai_chat_completion_request\n  File \"litellm/llms/openai/openai.py\", line 471, in make_sync_openai_chat_completion_request\n  File \"openai/_legacy_response.py\", line 364, in wrapped\n  File \"openai/_utils/_utils.py\", line 286, in wrapper\n  File \"openai/resources/chat/completions/completions.py\", line 1147, in create\n  File \"openai/_base_client.py\", line 1259, in post\n  File \"openai/_base_client.py\", line 1047, in request\nopenai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"litellm/main.py\", line 2131, in completion\n  File \"litellm/main.py\", line 2103, in completion\n  File \"litellm/llms/openai/openai.py\", line 756, in completion\nlitellm.llms.openai.common_utils.OpenAIError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"openhands/sdk/conversation/impl/local_conversation.py\", line 260, in run\n  File \"openhands/sdk/agent/agent.py\", line 225, in step\n  File \"openhands/sdk/agent/agent.py\", line 193, in step\n  File \"openhands/sdk/llm/llm.py\", line 519, in completion\n  File \"tenacity/__init__.py\", line 338, in wrapped_f\n  File \"tenacity/__init__.py\", line 477, in __call__\n  File \"tenacity/__init__.py\", line 378, in iter\n  File \"tenacity/__init__.py\", line 400, in <lambda>\n  File \"concurrent/futures/_base.py\", line 449, in result\n  File \"concurrent/futures/_base.py\", line 401, in __get_result\n  File \"tenacity/__init__.py\", line 480, in __call__\n  File \"openhands/sdk/llm/llm.py\", line 500, in _one_attempt\n  File \"openhands/sdk/llm/llm.py\", line 687, in _transport_call\n  File \"litellm/utils.py\", line 1365, in wrapper\n  File \"litellm/utils.py\", line 1238, in wrapper\n  File \"litellm/main.py\", line 3760, in completion\n  File \"litellm/litellm_core_utils/exception_mapping_utils.py\", line 2273, in exception_type\n  File \"litellm/litellm_core_utils/exception_mapping_utils.py\", line 457, in exception_type\nlitellm.exceptions.AuthenticationError: litellm.AuthenticationError: AuthenticationError: Litellm_proxyException - Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys.\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"uvicorn/protocols/http/h11_impl.py\", line 403, in run_asgi\n  File \"uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n  File \"fastapi/applications.py\", line 1133, in __call__\n  File \"starlette/applications.py\", line 113, in __call__\n  File \"starlette/middleware/errors.py\", line 186, in __call__\n  File \"starlette/middleware/errors.py\", line 164, in __call__\n  File \"starlette/middleware/cors.py\", line 85, in __call__\n  File \"starlette/middleware/exceptions.py\", line 63, in __call__\n  File \"starlette/_exception_handler.py\", line 53, in wrapped_app\n  File \"starlette/_exception_handler.py\", line 42, in wrapped_app\n  File \"fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n  File \"starlette/routing.py\", line 716, in __call__\n  File \"starlette/routing.py\", line 736, in app\n  File \"starlette/routing.py\", line 290, in handle\n  File \"fastapi/routing.py\", line 123, in app\n  File \"starlette/_exception_handler.py\", line 53, in wrapped_app\n  File \"starlette/_exception_handler.py\", line 42, in wrapped_app\n  File \"fastapi/routing.py\", line 109, in app\n  File \"fastapi/routing.py\", line 389, in app\n  File \"fastapi/routing.py\", line 288, in run_endpoint_function\n  File \"openhands/agent_server/conversation_router.py\", line 187, in run_conversation\n  File \"openhands/agent_server/event_service.py\", line 224, in run\n  File \"concurrent/futures/thread.py\", line 59, in run\n  File \"openhands/sdk/conversation/impl/local_conversation.py\", line 279, in run\nopenhands.sdk.conversation.exceptions.ConversationRunError: Conversation run failed for id=39069c49-7192-41fb-abf0-03094854441f: litellm.AuthenticationError: AuthenticationError: Litellm_proxyException - Incorrect API key provided: sk-HVL_n*************rThg. You can find your API key at https://platform.openai.com/account/api-keys."}
{"asctime": "2025-10-24 21:05:57,564", "levelname": "INFO", "name": "openhands.workspace.apptainer.workspace", "filename": "workspace.py", "lineno": 368, "message": "Terminating Apptainer process..."}
Traceback (most recent call last):
  File "/workspace/project/agent-sdk/openhands-sdk/openhands/sdk/conversation/impl/remote_conversation.py", line 551, in run
    resp = _send_request(
           ^^^^^^^^^^^^^^
  File "/workspace/project/agent-sdk/openhands-sdk/openhands/sdk/conversation/impl/remote_conversation.py", line 66, in _send_request
    raise e
  File "/workspace/project/agent-sdk/openhands-sdk/openhands/sdk/conversation/impl/remote_conversation.py", line 51, in _send_request
    response.raise_for_status()
  File "/workspace/project/agent-sdk/.venv/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '500 Internal Server Error' for url 'http://localhost:8010/api/conversations/39069c49-7192-41fb-abf0-03094854441f/run'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspace/project/agent-sdk/examples/02_remote_agent_server/05_convo_with_apptainer_sandboxed_server.py", line 105, in <module>
    conversation.run()
  File "/workspace/project/agent-sdk/openhands-sdk/openhands/sdk/conversation/impl/remote_conversation.py", line 560, in run
    raise ConversationRunError(self._id, e) from e
openhands.sdk.conversation.exceptions.ConversationRunError: Conversation run failed for id=39069c49-7192-41fb-abf0-03094854441f: Server error '500 Internal Server Error' for url 'http://localhost:8010/api/conversations/39069c49-7192-41fb-abf0-03094854441f/run'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500
/workspace/project/agent-sdk/.venv/lib/python3.12/site-packages/litellm/llms/custom_httpx/async_client_cleanup.py:66: DeprecationWarning: There is no current event loop
  loop = asyncio.get_event_loop()
